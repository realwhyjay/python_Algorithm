# 백준 1918 : 후위 표기식

#### Date : 21/07/20

#### Lang : Python

#### Question : [백준 1918](https://www.acmicpc.net/problem/1918)

## 1차 답안 

```python
# 스택 두개를 두고 첫번째 스택에서는 팝만 두번째 스택에는 쌓기만 한다.

# 연산자를 발견하면 팝해서 맨 뒤에 푸시
# '(' 만나면 +1 ')'만나면 -1로 괄호 카운트를 둔다
# 연산자용 카운트도 만들어서 만약 '('를 만나면 연산자용 카운트도 +1 씩해준다.
# 이후에 연산자를 뒤에 푸시해줄때, 연산자용 카운트 만큼 뒤에서 푸시해주도록 한다.

# 만약 괄호 카운트가 0인 경우라면 연산자를 만났을 때 그냥 넘어간다. 연산자용 카운트도 0으로 초기화


stack = list(input())
result = []
box_cnt = 0
opr_cnt = 0
str_cnt = 0

operater = ['+', '-', '/', '*']
box = ['(', ')']


print(stack)

for i in range(len(stack)):
    if stack[i] in operater:
        if box_cnt == 0:
            result.append(stack[i])
            opr_cnt += 1
        else:
            result.insert(-opr_cnt, stack[i])
            print("operater : ", -opr_cnt, result)
    elif stack[i] == '(':
        box_cnt += 1
    elif stack[i] == ')':
        box_cnt -= 1
    else:
        if box_cnt == 0:
            str_cnt = len(result)-1
        else:
            result.insert(str_cnt, stack[i])
            print("string : ", str_cnt, result)
            str_cnt += 1


print(result, sep='')


```

애초에 문제를 조금 잘못 이해했던듯 하다.  
하다가 시간이 너무 오래걸려 대충 저정도까지만 짜고, 솔루션을 보았다. 

## 모범 답안 

```python
a = input()
stack = []  # 스택
res = ''  # 출력

for x in a:
    if x.isalpha():  # 피연산자인지 아닌지 확인
        res += x
    else:
        # 괄호가 열려있는지 확인한다
        if x == '(':
            stack.append(x)
        # 곱셈(*)인지 나눗셈(/)인지 확인한뒤, 먼저 들어온 같은 우선순위의 */를 모두 결과 문자열에 추가한다
        # 현재 문자를 다시 스택에 추가한다
        elif x == '*' or x == '/':
            while stack and (stack[-1] == '*' or stack[-1] == '/'):
                res += stack.pop()
            stack.append(x)
        # +,-는 우선 순위가 제일 낮기 때문에, 자신보다 우선 순위가 높은 것들은 전부 결과 문자열에 추가한다
        # 현재 문자를 다시 스택에 추가한다
        elif x == '+' or x == '-':
            while stack and stack[-1] != '(':
                res += stack.pop()
            stack.append(x)
        # 만약 괄호가 닫혔다면, (과 )사이의 모든 연사자들을 결과 문자열에 추가하고
        # )를 pop 해준다.
        elif x == ')':
            while stack and stack[-1] != '(':
                res += stack.pop()
            stack.pop()

# 마지막으로 스택안에 남아있는 값들을 결과 문자열에 추가한다.
while stack:
    res += stack.pop()
print(res)

```

나는 result 를 담을 리스트를 두고 위치를 찾아 insert 해주려 했었는데,  
모범 답안의 경우에는 문자열에 + 해주는 식으로 답을 작성했다